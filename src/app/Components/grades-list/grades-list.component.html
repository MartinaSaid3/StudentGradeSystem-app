<div class="container mt-4">
  <h1 class="mb-4">Grading List</h1>
  <select (change)="filterBySubject($event)" formControlName="academicYear" class="form-select mb-5" id="academicYear"
    name="academicYear">
    <option [value]="'All'">All</option>
    @for(subject of subjects; track subject){
    <option [value]="subject">{{subject}}</option>
    }
  </select>
  <table class="table table-striped table-bordered">
    <thead class="thead-dark">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Academic Year</th>
        <th>Term1</th>
        <th>Term2</th>
        <th>Total</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for(grade of filteredGrades; track grade.gradeID){
      <tr>
        <td>{{ grade.student?.studentID }}</td>
        <td>{{ grade.student?.name }}</td>
        <td>{{ grade.student?.academicYear }}</td>
        <td>{{ grade.term1 }}</td>
        <td>{{ grade.term2 }}</td>
        <td>{{ grade.total }}</td>
        <td>
          <a class="btn btn-info btn-sm ml-2" [routerLink]="[grade.studentID, grade.subject]">Edit</a>
        </td>
      </tr>
      }
    </tbody>
  </table>
  <div>
    <p>Number of Succeeded Students: {{succeededStudentsCount}}</p>
    <p>Number of Failed Students: {{failedStudentsCount}}</p>
  </div>
</div>